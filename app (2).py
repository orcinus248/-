import streamlit as st
import random
import re
import time

# 4ÊñáÂ≠ó„ÅÆËã±ÂçòË™û„É™„Çπ„Éà
FOUR_LETTER_WORDS = [
    "ABLE", "ACID", "AGED", "ALSO", "AREA", "ARMY", "AWAY", "BABY", "BACK", "BALL",
    "BAND", "BANK", "BASE", "BATH", "BEAR", "BEAT", "BEEN", "BELL", "BEST", "BILL",
    "BIRD", "BLOW", "BLUE", "BOAT", "BODY", "BONE", "BOOK", "BORN", "BOTH", "BOYS",
    "BUSY", "CALL", "CAME", "CAMP", "CARD", "CARE", "CARS", "CASE", "CASH", "CAST",
    "CELL", "CITY", "CLUB", "COAL", "COAT", "CODE", "COLD", "COME", "COOL", "COPY",
    "COST", "DARK", "DATA", "DATE", "DAYS", "DEAD", "DEAL", "DEAR", "DEEP", "DESK",
    "DOES", "DONE", "DOOR", "DOWN", "DRAW", "DREW", "DROP", "DRUG", "DUAL", "EACH",
    "EARL", "EARN", "EAST", "EASY", "EDGE", "ELSE", "EVEN", "EVER", "EVIL", "EYES",
    "FACE", "FACT", "FAIL", "FAIR", "FALL", "FARM", "FAST", "FEAR", "FEEL", "FEET",
    "FELL", "FELT", "FILE", "FILL", "FILM", "FIND", "FINE", "FIRE", "FIRM", "FISH",
    "FIVE", "FLAT", "FLOW", "FOOD", "FOOT", "FORM", "FORT", "FOUR", "FREE", "FROM",
    "FULL", "FUND", "GAME", "GAVE", "GIFT", "GIRL", "GIVE", "GLAD", "GOAL", "GOES",
    "GOLD", "GONE", "GOOD", "GRAY", "GREW", "GROW", "HAIR", "HALF", "HALL", "HAND",
    "HANG", "HARD", "HARM", "HEAD", "HEAR", "HEAT", "HELD", "HELL", "HELP", "HERE",
    "HIGH", "HILL", "HOLD", "HOLE", "HOME", "HOPE", "HOUR", "HUGE", "HUNG", "HURT",
    "IDEA", "INCH", "INTO", "IRON", "ITEM", "JACK", "JANE", "JULY", "JUMP", "JUNE",
    "JUST", "KEEP", "KEPT", "KILL", "KIND", "KING", "KNEW", "KNOW", "LACK", "LADY",
    "LAND", "LAST", "LATE", "LEAD", "LEFT", "LESS", "LIFE", "LIFT", "LIKE", "LINE",
    "LIST", "LIVE", "LOAN", "LOCK", "LONG", "LOOK", "LORD", "LOSE", "LOSS", "LOST",
    "LOTS", "LOVE", "MADE", "MAIL", "MAIN", "MAKE", "MALE", "MANY", "MARK", "MASS",
    "MEAL", "MEAN", "MEAT", "MEET", "MIND", "MINE", "MISS", "MODE", "MOON", "MORE",
    "MOST", "MOVE", "MUCH", "MUST", "NAME", "NEAR", "NECK", "NEED", "NEWS", "NEXT",
    "NICE", "NINE", "NODE", "NONE", "NOON", "NOTE", "NOUN", "ONLY", "OPEN", "ORAL",
    "OVER", "PACE", "PACK", "PAGE", "PAID", "PAIN", "PAIR", "PALE", "PARK", "PART",
    "PASS", "PAST", "PATH", "PEAK", "PICK", "PINK", "PLAN", "PLAY", "PLOT", "PLUS",
    "POEM", "POET", "POLL", "POOL", "POOR", "PORT", "POST", "PULL", "PURE", "PUSH",
    "RACE", "RAIN", "RANK", "RATE", "READ", "REAL", "REAR", "RELY", "RENT", "REST",
    "RICH", "RIDE", "RING", "RISE", "RISK", "ROAD", "ROCK", "ROLE", "ROLL", "ROOM",
    "ROOT", "ROSE", "RULE", "RUNS", "SAFE", "SAID", "SAIL", "SALE", "SALT", "SAME",
    "SAND", "SAVE", "SEAT", "SEED", "SEEK", "SEEM", "SEEN", "SELF", "SELL", "SEND",
    "SENT", "SHIP", "SHOP", "SHOT", "SHOW", "SHUT", "SICK", "SIDE", "SIGN", "SING",
    "SITE", "SIZE", "SKIN", "SLIP", "SLOW", "SNOW", "SOFT", "SOIL", "SOLD", "SOME",
    "SONG", "SOON", "SORT", "SOUL", "SPOT", "STAR", "STAY", "STEP", "STOP", "SUCH",
    "SUIT", "SURE", "TAKE", "TALK", "TALL", "TANK", "TAPE", "TASK", "TEAM", "TELL",
    "TERM", "TEST", "TEXT", "THAN", "THAT", "THEM", "THEN", "THEY", "THIN", "THIS",
    "THUS", "TILL", "TIME", "TINY", "TOLD", "TONE", "TOOK", "TOOL", "TOPS", "TOWN",
    "TREE", "TRIP", "TRUE", "TURN", "TYPE", "UNIT", "UPON", "USED", "USER", "VARY",
    "VAST", "VERY", "VIEW", "VOTE", "WAGE", "WAIT", "WAKE", "WALK", "WALL", "WANT",
    "WARM", "WASH", "WAVE", "WAYS", "WEAK", "WEAR", "WEEK", "WELL", "WENT", "WERE",
    "WEST", "WHAT", "WHEN", "WHOM", "WIDE", "WIFE", "WILD", "WILL", "WIND", "WINE",
    "WING", "WIRE", "WISE", "WISH", "WITH", "WOOD", "WORD", "WORE", "WORK", "YARD",
    "YEAR", "YOUR", "ZERO", "ZONE"
]

def get_random_word():
    """„É©„É≥„ÉÄ„É†„Å™4ÊñáÂ≠óÂçòË™û„ÇíÈÅ∏Êäû"""
    return random.choice(FOUR_LETTER_WORDS)

def is_valid_word(word):
    """ÂçòË™û„ÅåÊúâÂäπ„Åã„ÉÅ„Çß„ÉÉ„ÇØ"""
    return word.upper() in FOUR_LETTER_WORDS

def evaluate_guess(guess, target):
    """Êé®Ê∏¨„ÇíË©ï‰æ°„Åó„Å¶ÁµêÊûú„ÇíËøî„Åô"""
    result = []
    target_array = list(target)
    guess_array = list(guess.upper())
    
    # „Åæ„ÅöÊ≠£Á¢∫„Å™‰ΩçÁΩÆ„Çí„ÉÅ„Çß„ÉÉ„ÇØ
    for i in range(4):
        if guess_array[i] == target_array[i]:
            result.append('correct')
            target_array[i] = None  # „Éû„Éº„ÇØ„Åó„Å¶ÈáçË§á„ÇíÈÅø„Åë„Çã
            guess_array[i] = None
        else:
            result.append(None)
    
    # Ê¨°„Å´Âê´„Åæ„Çå„Å¶„ÅÑ„Çã„Åå‰ΩçÁΩÆ„ÅåÈÅï„ÅÜÊñáÂ≠ó„Çí„ÉÅ„Çß„ÉÉ„ÇØ
    for i in range(4):
        if guess_array[i] is not None:
            if guess_array[i] in target_array:
                result[i] = 'present'
                target_array[target_array.index(guess_array[i])] = None
            else:
                result[i] = 'absent'
    
    return result

def initialize_game():
    """„Ç≤„Éº„É†„ÇíÂàùÊúüÂåñ"""
    if 'target_word' not in st.session_state:
        st.session_state.target_word = get_random_word()
    if 'guesses' not in st.session_state:
        st.session_state.guesses = []
    if 'game_over' not in st.session_state:
        st.session_state.game_over = False
    if 'won' not in st.session_state:
        st.session_state.won = False
    if 'current_input' not in st.session_state:
        st.session_state.current_input = ""
    if 'games_played' not in st.session_state:
        st.session_state.games_played = 0
    if 'games_won' not in st.session_state:
        st.session_state.games_won = 0
    if 'current_streak' not in st.session_state:
        st.session_state.current_streak = 0
    if 'max_streak' not in st.session_state:
        st.session_state.max_streak = 0

def reset_game():
    """„Ç≤„Éº„É†„Çí„É™„Çª„ÉÉ„Éà"""
    # Áµ±Ë®à„ÇíÊõ¥Êñ∞
    if st.session_state.game_over:
        st.session_state.games_played += 1
        if st.session_state.won:
            st.session_state.games_won += 1
            st.session_state.current_streak += 1
            st.session_state.max_streak = max(st.session_state.max_streak, st.session_state.current_streak)
        else:
            st.session_state.current_streak = 0
    
    # „Ç≤„Éº„É†Áä∂ÊÖã„Çí„É™„Çª„ÉÉ„Éà
    st.session_state.target_word = get_random_word()
    st.session_state.guesses = []
    st.session_state.game_over = False
    st.session_state.won = False
    st.session_state.current_input = ""

def get_letter_status(letter, guesses):
    """ÊñáÂ≠ó„ÅÆÁä∂ÊÖã„ÇíÂèñÂæóÔºà„Ç≠„Éº„Éú„Éº„ÉâË°®Á§∫Áî®Ôºâ"""
    best_status = 'unused'
    for guess, result in guesses:
        for i, (guess_letter, status) in enumerate(zip(guess, result)):
            if guess_letter == letter:
                if status == 'correct':
                    return 'correct'  # Ê≠£Ëß£„ÅØÊúÄÂÑ™ÂÖà
                elif status == 'present' and best_status != 'correct':
                    best_status = 'present'
                elif status == 'absent' and best_status == 'unused':
                    best_status = 'absent'
    return best_status

def display_virtual_keyboard():
    """‰ªÆÊÉ≥„Ç≠„Éº„Éú„Éº„Éâ„ÇíË°®Á§∫"""
    st.markdown("### üéπ ‰ªÆÊÉ≥„Ç≠„Éº„Éú„Éº„Éâ")
    
    keyboard_rows = [
        ['Q', 'W', 'E', 'R', 'T', 'Y', 'U', 'I', 'O', 'P'],
        ['A', 'S', 'D', 'F', 'G', 'H', 'J', 'K', 'L'],
        ['Z', 'X', 'C', 'V', 'B', 'N', 'M']
    ]
    
    for row_idx, row in enumerate(keyboard_rows):
        # ‰∏≠Â§ÆÊèÉ„Åà„ÅÆ„Åü„ÇÅ„Å´ÈÅ©Âàá„Å™ÂàóÊï∞„ÇíË®àÁÆó
        if row_idx == 1:  # ‰∏≠ÊÆµ„ÅØÂ∞ë„ÅóÂè≥„Å´„Åö„Çâ„Åô
            cols = st.columns([0.5] + [1] * len(row) + [0.5])
            start_idx = 1
        else:
            cols = st.columns(len(row))
            start_idx = 0
        
        for i, letter in enumerate(row):
            with cols[start_idx + i]:
                status = get_letter_status(letter, st.session_state.guesses)
                
                # „Éú„Çø„É≥„ÅÆ„Çπ„Çø„Ç§„É´„ÇíÊ±∫ÂÆö
                if status == 'correct':
                    button_type = "primary"
                    emoji = "‚úÖ"
                elif status == 'present':
                    button_type = "secondary"
                    emoji = "üü®"
                elif status == 'absent':
                    button_type = "secondary"
                    emoji = "‚ùå"
                else:
                    button_type = "secondary"
                    emoji = ""
                
                button_text = f"{emoji} {letter}" if emoji else letter
                
                if st.button(
                    button_text,
                    key=f"key_{letter}",
                    disabled=st.session_state.game_over,
                    help=f"ÊñáÂ≠ó {letter} „ÇíÂÖ•Âäõ",
                    type=button_type,
                    use_container_width=True
                ):
                    if len(st.session_state.current_input) < 4:
                        st.session_state.current_input += letter
                        st.rerun()
    
    # ÁâπÊÆä„Ç≠„Éº
    st.markdown("---")
    col1, col2, col3 = st.columns([1, 2, 1])
    
    with col1:
        if st.button("‚å´ ÂâäÈô§", disabled=st.session_state.game_over, type="secondary", use_container_width=True):
            if st.session_state.current_input:
                st.session_state.current_input = st.session_state.current_input[:-1]
                st.rerun()
    
    with col2:
        st.markdown(f"**ÁèæÂú®„ÅÆÂÖ•Âäõ:** `{st.session_state.current_input + 'Ôºø' * (4 - len(st.session_state.current_input))}`")
    
    with col3:
        send_disabled = st.session_state.game_over or len(st.session_state.current_input) != 4
        if st.button("üì§ ÈÄÅ‰ø°", disabled=send_disabled, type="primary", use_container_width=True):
            process_guess(st.session_state.current_input)

def process_guess(guess):
    """Êé®Ê∏¨„ÇíÂá¶ÁêÜ"""
    guess = guess.upper()
    
    if len(guess) != 4:
        st.error("4ÊñáÂ≠ó„ÅÆÂçòË™û„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ")
        return
    
    if not re.match("^[A-Z]+$", guess):
        st.error("Ëã±Â≠ó„ÅÆ„Åø„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ")
        return
    
    if not is_valid_word(guess):
        st.error("ÊúâÂäπ„Å™Ëã±ÂçòË™û„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ")
        return
    
    # Êé®Ê∏¨„ÇíÂá¶ÁêÜ
    result = evaluate_guess(guess, st.session_state.target_word)
    st.session_state.guesses.append((guess, result))
    st.session_state.current_input = ""
    
    # „Ç≤„Éº„É†ÁµÇ‰∫ÜÂà§ÂÆö
    if guess == st.session_state.target_word:
        st.session_state.won = True
        st.session_state.game_over = True
    elif len(st.session_state.guesses) >= 6:
        st.session_state.game_over = True
    
    st.rerun()

def display_statistics():
    """Áµ±Ë®àÊÉÖÂ†±„ÇíË°®Á§∫"""
    if st.session_state.games_played > 0:
        win_rate = (st.session_state.games_won / st.session_state.games_played) * 100
    else:
        win_rate = 0
    
    col1, col2, col3, col4 = st.columns(4)
    
    with col1:
        st.metric("„Éó„É¨„Ç§ÂõûÊï∞", st.session_state.games_played)
    
    with col2:
        st.metric("ÂãùÁéá", f"{win_rate:.1f}%")
    
    with col3:
        st.metric("ÁèæÂú®„ÅÆÈÄ£Âãù", st.session_state.current_streak)
    
    with col4:
        st.metric("ÊúÄÈ´òÈÄ£Âãù", st.session_state.max_streak)

def main():
    st.set_page_config(
        page_title="4ÊñáÂ≠óWordle",
        page_icon="üéØ",
        layout="centered",
        initial_sidebar_state="collapsed"
    )
    
    # „Ç´„Çπ„Çø„É†CSS
    st.markdown("""
    <style>
    .main-header {
        text-align: center;
        color: #1f2937;
        margin-bottom: 2rem;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
    }
    .game-stats {
        background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        padding: 1.5rem;
        border-radius: 1rem;
        margin-bottom: 2rem;
        box-shadow: 0 10px 25px rgba(0,0,0,0.1);
    }
    .game-board {
        margin: 2rem 0;
        padding: 1rem;
        background: rgba(255,255,255,0.9);
        border-radius: 1rem;
        box-shadow: 0 8px 32px rgba(0,0,0,0.1);
    }
    .letter-box {
        display: inline-block;
        width: 60px;
        height: 60px;
        line-height: 60px;
        text-align: center;
        margin: 2px;
        border-radius: 12px;
        font-weight: bold;
        font-size: 24px;
        border: 2px solid #d1d5db;
        transition: all 0.3s ease;
    }
    .current-input {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        border: none;
        padding: 1.5rem;
        border-radius: 1rem;
        margin: 1rem 0;
        text-align: center;
        font-size: 2rem;
        font-weight: bold;
        letter-spacing: 1rem;
        box-shadow: 0 8px 32px rgba(102, 126, 234, 0.3);
    }
    .keyboard-section {
        background: rgba(255,255,255,0.95);
        padding: 1.5rem;
        border-radius: 1rem;
        margin: 1rem 0;
        box-shadow: 0 8px 32px rgba(0,0,0,0.1);
    }
    .stButton > button {
        border-radius: 8px !important;
        font-weight: 600 !important;
        transition: all 0.2s ease !important;
    }
    .stButton > button:hover {
        transform: translateY(-2px) !important;
        box-shadow: 0 4px 12px rgba(0,0,0,0.15) !important;
    }
    .celebration {
        animation: bounce 0.6s ease-in-out infinite alternate;
    }
    @keyframes bounce {
        from { transform: translateY(0px); }
        to { transform: translateY(-10px); }
    }
    </style>
    """, unsafe_allow_html=True)
    
    # „Ç≤„Éº„É†ÂàùÊúüÂåñ
    initialize_game()
    
    # „Çø„Ç§„Éà„É´
    st.markdown('<h1 class="main-header">üéØ 4ÊñáÂ≠óWordle</h1>', unsafe_allow_html=True)
    st.markdown('<p style="text-align: center; font-size: 1.3rem; color: #6b7280; margin-bottom: 2rem;">4ÊñáÂ≠ó„ÅÆËã±ÂçòË™û„Çí6Âõû‰ª•ÂÜÖ„ÅßÂΩì„Å¶„Çà„ÅÜÔºÅ üöÄ</p>', unsafe_allow_html=True)
    
    # Áµ±Ë®àÊÉÖÂ†±
    with st.container():
        st.markdown('<div class="game-stats">', unsafe_allow_html=True)
        st.markdown("### üìä Áµ±Ë®àÊÉÖÂ†±")
        display_statistics()
        st.markdown('</div>', unsafe_allow_html=True)
    
    # „Ç≤„Éº„É†Âà∂Âæ°
    col1, col2, col3 = st.columns([1, 2, 1])
    with col2:
        if st.button("üîÑ Êñ∞„Åó„ÅÑ„Ç≤„Éº„É†", type="primary", use_container_width=True):
            reset_game()
            st.rerun()
    
    # ÁèæÂú®„ÅÆÂÖ•ÂäõË°®Á§∫
    if not st.session_state.game_over and st.session_state.current_input:
        current_display = st.session_state.current_input + "Ôºø" * (4 - len(st.session_state.current_input))
        st.markdown(f'<div class="current-input">{current_display}</div>', unsafe_allow_html=True)
    
    # „Ç≤„Éº„É†„Éú„Éº„ÉâË°®Á§∫
    with st.container():
        st.markdown('<div class="game-board">', unsafe_allow_html=True)
        display_game_board()
        st.markdown('</div>', unsafe_allow_html=True)
    
    # ‰ªÆÊÉ≥„Ç≠„Éº„Éú„Éº„Éâ
    if not st.session_state.game_over:
        with st.container():
            st.markdown('<div class="keyboard-section">', unsafe_allow_html=True)
            display_virtual_keyboard()
            st.markdown('</div>', unsafe_allow_html=True)
    
    # ÊâãÂãïÂÖ•Âäõ„Éï„Ç©„Éº„É†
    if not st.session_state.game_over:
        st.markdown("---")
        st.markdown("### ‚å®Ô∏è Áõ¥Êé•ÂÖ•Âäõ")
        with st.form("guess_form"):
            col1, col2 = st.columns([3, 1])
            with col1:
                manual_guess = st.text_input(
                    "4ÊñáÂ≠ó„ÅÆËã±ÂçòË™û„ÇíÂÖ•Âäõ:",
                    max_chars=4,
                    placeholder="‰æã: WORD",
                    value="",
                    label_visibility="collapsed"
                ).upper()
            
            with col2:
                submitted = st.form_submit_button("Êé®Ê∏¨„Åô„Çã", type="primary", use_container_width=True)
            
            if submitted and manual_guess:
                process_guess(manual_guess)
    
    # „Ç≤„Éº„É†ÁµÇ‰∫Ü„É°„ÉÉ„Çª„Éº„Ç∏
    if st.session_state.game_over:
        st.markdown("---")
        if st.session_state.won:
            st.markdown('<div class="celebration">', unsafe_allow_html=True)
            st.success(f"üéâ „Åä„ÇÅ„Åß„Å®„ÅÜ„Åî„Åñ„ÅÑ„Åæ„ÅôÔºÅ{len(st.session_state.guesses)}Âõû„ÅßÊ≠£Ëß£„Åó„Åæ„Åó„ÅüÔºÅ")
            st.markdown('</div>', unsafe_allow_html=True)
            st.balloons()
            
            # ÊàêÁ∏æ„Å´Âøú„Åò„Åü„É°„ÉÉ„Çª„Éº„Ç∏
            attempts = len(st.session_state.guesses)
            if attempts == 1:
                st.info("üèÜ ÂÆåÁíßÔºÅ‰∏ÄÁô∫„ÅßÂΩì„Å¶„Çã„Å™„Çì„Å¶Á¥†Êô¥„Çâ„Åó„ÅÑÔºÅ")
            elif attempts <= 2:
                st.info("ü•á ÂÑ™ÁßÄÔºÅ„Å®„Å¶„ÇÇËâØ„ÅÑÊàêÁ∏æ„Åß„ÅôÔºÅ")
            elif attempts <= 3:
                st.info("ü•à ËâØ„ÅÑÊàêÁ∏æÔºÅ„Å™„Åã„Å™„Åã„ÅÆÊé®ÁêÜÂäõ„Åß„Åô„Å≠ÔºÅ")
            elif attempts <= 4:
                st.info("ü•â „Åæ„Åö„Åæ„ÅöÔºÅ„ÇÇ„ÅÜÂ∞ë„Åó„ÅßÂÆåÁíß„Åß„Åó„ÅüÔºÅ")
            else:
                st.info("üëè „ÅäÁñ≤„ÇåÊßòÔºÅÊúÄÂæå„Åæ„ÅßË´¶„ÇÅ„Åö„Å´È†ëÂºµ„Çä„Åæ„Åó„ÅüÔºÅ")
        else:
            st.error(f"üòî ÊÆãÂøµ... Ê≠£Ëß£„ÅØ„Äå**{st.session_state.target_word}**„Äç„Åß„Åó„Åü„ÄÇ")
            st.info("üí™ Ê¨°Âõû„ÅØ„Åç„Å£„Å®ÂΩì„Å¶„Çâ„Çå„Åæ„Åô„ÇàÔºÅ")
        
        st.info("„ÄåÊñ∞„Åó„ÅÑ„Ç≤„Éº„É†„Äç„Éú„Çø„É≥„ÅßÂÜçÊåëÊà¶„Åß„Åç„Åæ„ÅôÔºÅ")
    
    # „Éó„É≠„Ç∞„É¨„Çπ„Éê„Éº
    if not st.session_state.game_over:
        progress = len(st.session_state.guesses) / 6
        st.progress(progress, text=f"ÈÄ≤Ë°åÁä∂Ê≥Å: {len(st.session_state.guesses)}/6 Âõû")
    
    # „É´„Éº„É´Ë™¨Êòé
    with st.expander("üìñ „Ç≤„Éº„É†„ÅÆ„É´„Éº„É´"):
        st.markdown("""
        **üéØ ÁõÆÊ®ô:**
        - 4ÊñáÂ≠ó„ÅÆËã±ÂçòË™û„Çí6Âõû‰ª•ÂÜÖ„ÅßÂΩì„Å¶„Å¶„Åè„Å†„Åï„ÅÑ
        
        **üéÆ Êìç‰ΩúÊñπÊ≥ï:**
        - üñ±Ô∏è ‰ªÆÊÉ≥„Ç≠„Éº„Éú„Éº„Éâ„ÅÆÊñáÂ≠ó„Çí„ÇØ„É™„ÉÉ„ÇØ„Åó„Å¶ÂÖ•Âäõ
        - ‚å´ „ÄåÂâäÈô§„Äç„Éú„Çø„É≥„ÅßÊúÄÂæå„ÅÆÊñáÂ≠ó„ÇíÂâäÈô§
        - üì§ „ÄåÈÄÅ‰ø°„Äç„Éú„Çø„É≥„Åæ„Åü„ÅØÁõ¥Êé•ÂÖ•Âäõ„Éï„Ç©„Éº„É†„ÅßÊé®Ê∏¨„ÇíÈÄÅ‰ø°
        
        **üé® Ëâ≤„ÅÆÊÑèÂë≥:**
        - üü© **Á∑ë**: Ê≠£„Åó„ÅÑ‰ΩçÁΩÆ„Å´„ÅÇ„ÇãÊñáÂ≠ó
        - üü® **ÈªÑ**: ÂçòË™û„Å´Âê´„Åæ„Çå„Å¶„ÅÑ„Çã„Åå‰ΩçÁΩÆ„ÅåÈÅï„ÅÜÊñáÂ≠ó
        - ‚¨ú **„Ç∞„É¨„Éº**: ÂçòË™û„Å´Âê´„Åæ„Çå„Å¶„ÅÑ„Å™„ÅÑÊñáÂ≠ó
        
        **üí° „Éí„É≥„Éà:**
        - „Çà„Åè‰Ωø„Çè„Çå„ÇãÊñáÂ≠óÔºàE, A, R, I, O, T, N, SÔºâ„Åã„ÇâÂßã„ÇÅ„Å¶„Åø„Åæ„Åó„Çá„ÅÜ
        - ÊØçÈü≥„Å®Â≠êÈü≥„ÅÆ„Éê„É©„É≥„Çπ„ÇíËÄÉ„Åà„Å¶Êé®Ê∏¨„Åó„Åæ„Åó„Çá„ÅÜ
        - Ââç„ÅÆÊé®Ê∏¨„ÅÆÁµêÊûú„ÇíÊ¥ªÁî®„Åó„Å¶Ê¨°„ÅÆÊé®Ê∏¨„ÇíÁµû„ÇäËæº„Åø„Åæ„Åó„Çá„ÅÜ
        """)
    
    # „Éï„ÉÉ„Çø„Éº
    st.markdown("---")
    st.markdown(
        '<p style="text-align: center; color: #9ca3af; font-size: 0.9rem;">Made with ‚ù§Ô∏è using Streamlit | Ê•Ω„Åó„ÅÑWordle„É©„Ç§„Éï„ÇíÔºÅ</p>',
        unsafe_allow_html=True
    )

def display_game_board():
    """„Ç≤„Éº„É†„Éú„Éº„Éâ„ÇíË°®Á§∫"""
    st.markdown("### üé≤ „Ç≤„Éº„É†„Éú„Éº„Éâ")
    
    # ÈÅéÂéª„ÅÆÊé®Ê∏¨„ÇíË°®Á§∫
    for i in range(6):
        cols = st.columns(4)
        if i < len(st.session_state.guesses):
            guess, result = st.session_state.guesses[i]
            for j, (letter, status) in enumerate(zip(guess, result)):
                with cols[j]:
                    if status == 'correct':
                        st.markdown(f'''
                        <div style="
                            background: linear-gradient(135deg, #22c55e, #16a34a);
                            color: white;
                            text-align: center;
                            padding: 20px;
                            margin: 4px;
                            border-radius: 12px;
                            font-weight: bold;
                            font-size: 28px;
                            border: 3px solid #15803d;
                            box-shadow: 0 4px 12px rgba(34, 197, 94, 0.3);
                            transform: scale(1.05);
                        ">{letter}</div>
                        ''', unsafe_allow_html=True)
                    elif status == 'present':
                        st.markdown(f'''
                        <div style="
                            background: linear-gradient(135deg, #eab308, #ca8a04);
                            color: white;
                            text-align: center;
                            padding: 20px;
                            margin: 4px;
                            border-radius: 12px;
                            font-weight: bold;
                            font-size: 28px;
                            border: 3px solid #a16207;
                            box-shadow: 0 4px 12px rgba(234, 179, 8, 0.3);
                        ">{letter}</div>
                        ''', unsafe_allow_html=True)
                    else:
                        st.markdown(f'''
                        <div style="
                            background: linear-gradient(135deg, #6b7280, #4b5563);
                            color: white;
                            text-align: center;
                            padding: 20px;
                            margin: 4px;
                            border-radius: 12px;
                            font-weight: bold;
                            font-size: 28px;
                            border: 3px solid #374151;
                            box-shadow: 0 4px 12px rgba(107, 114, 128, 0.3);
                        ">{letter}</div>
                        ''', unsafe_allow_html=True)
        elif i == len(st.session_state.guesses) and not st.session_state.game_over:
            # ÁèæÂú®„ÅÆÂÖ•ÂäõË°å
            current_letters = list(st.session_state.current_input) + [''] * (4 - len(st.session_state.current_input))
            for j, letter in enumerate(current_letters):
                with cols[j]:
                    if letter:
                        st.markdown(f'''
                        <div style="
                            background: linear-gradient(135deg, #3b82f6, #2563eb);
                            color: white;
                            text-align: center;
                            padding: 20px;
                            margin: 4px;
                            border-radius: 12px;
                            font-weight: bold;
                            font-size: 28px;
                            border: 3px solid #1d4ed8;
                            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
                            animation: pulse 2s infinite;
                        ">{letter}</div>
                        ''', unsafe_allow_html=True)
                    else:
                        st.markdown('''
                        <div style="
                            background: rgba(248, 250, 252, 0.8);
                            border: 3px dashed #cbd5e1;
                            text-align: center;
                            padding: 20px;
                            margin: 4px;
                            border-radius: 12px;
                            font-size: 28px;
                            transition: all 0.3s ease;
                        ">&nbsp;</div>
                        ''', unsafe_allow_html=True)
        else:
            # Á©∫„ÅÆË°å
            for j in range(4):
                with cols[j]:
                    st.markdown('''
                    <div style="
                        background: rgba(248, 250, 252, 0.5);
                        border: 2px solid #e2e8f0;
                        text-align: center;
                        padding: 20px;
                        margin: 4px;
                        border-radius: 12px;
                        font-size: 28px;
                    ">&nbsp;</div>
                    ''', unsafe_allow_html=True)

if __name__ == "__main__":
    main()

